<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Connexion – Atlas HR Suite</title>
    <link rel="icon" href="assets/icon.svg" type="image/svg+xml" />
    <script type="module" src="https://unpkg.com/@fluentui/web-components@2.5.6/dist/web-components.min.js"></script>
    <link rel="stylesheet" href="assets/css/landing.css" />
    <style>
      main { max-width: 720px; margin: 5rem auto; padding: 2rem; border:1px solid rgba(15,23,42,.12); border-radius:16px; background:#fff; }
      form { display:grid; gap: 1rem; }
    </style>
  </head>
  <body>
    <main>
      <div style="display:flex;align-items:center;gap:.6rem;margin-bottom:1rem;">
        <img src="assets/icon.svg" alt="Atlas" style="width:32px;height:32px;border-radius:8px"/>
        <h1 style="margin:0">Atlas HR Suite</h1>
      </div>
      <p>Connectez-vous pour ouvrir le tableau de bord (démo). Vous pouvez utiliser les comptes ci-dessous.</p>
      <form id="loginForm">
        <label>Email
          <fluent-text-field type="email" name="email" required value="admin.rh@atlas.local"></fluent-text-field>
        </label>
        <label>Mot de passe
          <fluent-text-field type="password" name="password" value="Atlas#2025" required></fluent-text-field>
        </label>
        <div style="display:flex;gap:.6rem;align-items:center;flex-wrap:wrap;">
          <fluent-button type="submit" appearance="accent">Se connecter</fluent-button>
          <fluent-anchor href="app.html" appearance="stealth">Entrer sans compte</fluent-anchor>
        </div>
      </form>
      <div style="margin-top:1rem;border-top:1px solid rgba(15,23,42,.12);padding-top:1rem;">
        <p style="margin:.2rem 0">Comptes rapides:</p>
        <ul style="margin:0;padding-left:1rem;">
          <li>Secteur public: <code>public.admin@atlas.local</code> / <code>Public#2024</code></li>
          <li>Secteur privé: <code>private.director@atlas.local</code> / <code>Private#2024</code></li>
        </ul>
      </div>
    </main>
    <script>
      const form = document.getElementById('loginForm');
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(form).entries());
        const display = data.email.split('@')[0].replace('.', ' ').replace(/\b\w/g, (c)=>c.toUpperCase());
        localStorage.setItem('atlasUser', JSON.stringify({ email: data.email, name: display }));
        window.location.href = 'app.html#/'
      });
    </script>
  </body>
</html>
